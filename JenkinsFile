pipeline{
    agent any
    stages{
        stage('Archive Artifacts'){
            steps{
            echo "Packaging Artifacts"
            sh 'mvn -f pom.xml clean package'
        }
        post {
            steps{
                sucess{
                echo "Archiving Artifacts"
                archiveArtifacts artifacts : "**/*.war"
        }
        }
        }
    }
        stage('Deploy to Docker'){
                steps{
                    sh 'docker build . -t dockersameplewebapp:${env.BUILD_ID}'
                }
        }
    }
}
